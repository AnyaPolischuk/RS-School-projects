(()=>{"use strict";var n={297:(n,e,t)=>{t.d(e,{Z:()=>r});var o=t(645),i=t.n(o)()((function(n){return n[1]}));i.push([n.id,".btn {\n  margin-right: 20px;\n  width: 120px;\n  height: 30px;\n  background-color: rgb(235, 161, 24);\n  border-radius: 5px;\n  border: 1px solid rgb(235, 161, 24);\n  font-size: 16px;\n}\n\n.inputs_wrapper {\n  margin-top: 30px;\n  width: 400px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.wrapper_for_btns {\n  width: 300px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}  \n\n.container {\n  width: 100%;\n  border-bottom: 5px dashed black;\n  position: relative;\n  padding-top: 60px;\n}\n\n.car {\n  position: absolute;\n  top: -22px;\n  left: 90px;\n  z-index: -1;\n}\n\n.a_b_btns,\n.pagination-btn {\n  width: 30px;\n  height: 30px;\n  margin-right: 5px;\n  background-color: rgb(235, 161, 24);\n  border-radius: 5px;\n  border: 1px solid rgb(235, 161, 24);\n}\n\n.start_btn {\n  position: absolute;\n  top: -5px;\n}\n\n.stop_btn {\n  position: absolute;\n  top: -5px;\n  left: 45px;\n}\n\n.flag {\n  position: absolute;\n  top: -5px;\n  right: 0;\n}\n\n.btn_active {\n  background-color: green;\n}\n\n.pagination-wrapper {\n  width: 300px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  margin-top: 40px;\n}\n\n.winners-not-active {\n  display: none;\n}\n\n.root-not-active {\n  display: none;\n}",""]);const r=i},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=n(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t})).join("")},e.i=function(n,t,o){"string"==typeof n&&(n=[[null,n,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(i[a]=!0)}for(var c=0;c<n.length;c++){var d=[].concat(n[c]);o&&i[d[0]]||(t&&(d[2]?d[2]="".concat(t," and ").concat(d[2]):d[2]=t),e.push(d))}},e}},379:(n,e,t)=>{var o,i=function(){var n={};return function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[e]=t}return n[e]}}(),r=[];function a(n){for(var e=-1,t=0;t<r.length;t++)if(r[t].identifier===n){e=t;break}return e}function c(n,e){for(var t={},o=[],i=0;i<n.length;i++){var c=n[i],d=e.base?c[0]+e.base:c[0],l=t[d]||0,s="".concat(d," ").concat(l);t[d]=l+1;var u=a(s),p={css:c[1],media:c[2],sourceMap:c[3]};-1!==u?(r[u].references++,r[u].updater(p)):r.push({identifier:s,updater:f(p,e),references:1}),o.push(s)}return o}function d(n){var e=document.createElement("style"),o=n.attributes||{};if(void 0===o.nonce){var r=t.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(n){e.setAttribute(n,o[n])})),"function"==typeof n.insert)n.insert(e);else{var a=i(n.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,s=(l=[],function(n,e){return l[n]=e,l.filter(Boolean).join("\n")});function u(n,e,t,o){var i=t?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(n.styleSheet)n.styleSheet.cssText=s(e,i);else{var r=document.createTextNode(i),a=n.childNodes;a[e]&&n.removeChild(a[e]),a.length?n.insertBefore(r,a[e]):n.appendChild(r)}}function p(n,e,t){var o=t.css,i=t.media,r=t.sourceMap;if(i?n.setAttribute("media",i):n.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleSheet)n.styleSheet.cssText=o;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(o))}}var v=null,m=0;function f(n,e){var t,o,i;if(e.singleton){var r=m++;t=v||(v=d(e)),o=u.bind(null,t,r,!1),i=u.bind(null,t,r,!0)}else t=d(e),o=p.bind(null,t,e),i=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return o(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;o(n=e)}else i()}}n.exports=function(n,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var t=c(n=n||[],e);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var o=0;o<t.length;o++){var i=a(t[o]);r[i].references--}for(var d=c(n,e),l=0;l<t.length;l++){var s=a(t[l]);0===r[s].references&&(r[s].updater(),r.splice(s,1))}t=d}}}}},e={};function t(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,exports:{}};return n[o](r,r.exports,t),r.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n=function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function c(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,c)}d((o=o.apply(n,e||[])).next())}))};const e="http://127.0.0.1:3000/garage",o="http://127.0.0.1:3000/engine",i=(t,o=7)=>n(void 0,void 0,void 0,(function*(){const n=yield fetch(`${e}?_page=${t}&_limit=${o}`);return{cars:yield n.json(),amount:n.headers.get("X-Total-Count")}}));var r=t(379),a=t.n(r),c=t(297);a()(c.Z,{insert:"head",singleton:!1}),c.Z.locals;var d=function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function c(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,c)}d((o=o.apply(n,e||[])).next())}))};const l=document.querySelector(".root"),s=n=>{const e=document.createElement("div");e.classList.add("container"),null==l||l.append(e);const t=document.createElementNS("http://www.w3.org/2000/svg","svg"),o=document.createElementNS("http://www.w3.org/2000/svg","use");t.innerHTML='\n    <g transform="translate(0.000000,128.000000) scale(0.100000,-0.100000)" stroke="none">\n      <path d="M480 825 c-57 -15 -271 -48 -345 -53 l-90 -7 -24 -70 c-16 -46 -22\n        -80 -18 -97 8 -32 62 -88 85 -88 9 0 29 -12 45 -27 41 -40 113 -40 154 0 l29\n        27 283 0 283 0 35 -30 c49 -43 103 -40 158 11 16 14 40 19 110 21 l90 3 3 36\n        c2 24 -4 43 -18 61 -25 33 -125 81 -211 103 -35 9 -116 37 -179 62 -113 45\n        -117 46 -245 49 -71 2 -137 1 -145 -1z m60 -30 c0 -2 -5 -16 -12 -30 -10 -22\n        -17 -26 -42 -21 -17 3 -60 8 -96 12 -50 6 -59 9 -42 15 40 15 192 34 192 24z\n        m299 -36 c83 -33 83 -33 51 -42 -24 -6 -35 -4 -43 6 -7 8 -22 18 -35 22 -19 5\n        -25 2 -29 -15 -5 -19 -11 -21 -47 -16 -23 3 -74 8 -113 12 -40 4 -73 11 -73\n        16 0 5 8 20 17 34 16 26 19 26 102 22 67 -4 105 -13 170 -39z m-561 -135 c31\n        -36 29 -79 -7 -115 -69 -68 -177 3 -140 93 25 60 103 72 147 22z m766 1 c55\n        -51 19 -145 -56 -145 -37 1 -59 14 -76 47 -19 35 -14 63 17 94 37 37 78 38\n        115 4z"></path>\n            <path d="M165 596 c-31 -47 23 -104 73 -77 29 16 37 48 18 76 -22 34 -70 34\n        -91 1z"></path>\n            <path d="M947 602 c-22 -24 -21 -55 1 -75 37 -34 92 -11 92 38 0 50 -60 73\n        -93 37z"></path>\n    </g>',t.style.fill=n,t.classList.add("car"),t.appendChild(o),null==e||e.append(t);const i=document.createElement("button");i.innerHTML="A",i.classList.add("start_btn"),i.classList.add("a_b_btns"),e.append(i);const r=document.createElement("button");r.innerHTML="B",r.classList.add("stop_btn"),r.classList.add("a_b_btns"),e.append(r),e.append(p())},u=n=>{const e=document.createElement("div");e.classList.add("wrapper_for_btns"),null==l||l.append(e);const t=document.createElement("button");t.innerHTML="Select",t.classList.add("btn"),t.classList.add("select_btn"),e.append(t);const o=document.createElement("button");o.innerHTML="Remove",o.classList.add("btn"),o.classList.add("remove_btn"),e.append(o);const i=document.createElement("h3");i.innerHTML=n,e.append(i)},p=()=>{const n=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","use");return n.innerHTML='\n    <g transform="translate(0.000000,64.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">\n      <path d="M6 614 c-4 -10 1 -25 11 -36 10 -11 77 -142 148 -291 118 -246 155\n        -308 155 -263 0 9 -27 70 -60 136 l-60 120 32 20 c54 33 114 36 183 11 33 -13\n        74 -26 92 -31 36 -9 109 2 125 18 8 8 -6 48 -52 144 -34 73 -64 135 -67 138\n        -2 2 -35 3 -73 2 -54 -3 -80 2 -122 20 -71 31 -157 31 -215 1 l-42 -22 -3 22\n        c-4 27 -43 36 -52 11z m157 -58 l16 -35 -36 -21 c-19 -11 -37 -20 -38 -18 -1\n        2 -10 18 -19 35 l-17 33 33 20 c18 11 36 20 39 20 3 0 13 -15 22 -34z m140 19\n        c33 -13 65 -50 54 -61 -2 -2 -18 1 -36 7 -18 6 -34 9 -37 7 -2 -3 3 -22 11\n        -43 9 -20 15 -38 13 -40 -2 -1 -22 -5 -44 -8 -41 -5 -42 -4 -60 35 -20 45 -12\n        58 40 58 21 0 27 4 22 15 -3 8 -9 22 -12 30 -8 19 4 19 49 0z m202 -45 c21\n        -41 19 -50 -15 -50 -23 0 -33 7 -45 30 -12 24 -13 31 -3 34 11 4 38 13 45 15\n        1 1 9 -12 18 -29z m-58 -55 c7 -2 21 -22 33 -45 22 -44 16 -49 -34 -30 -30 11\n        -33 2 -12 -39 l15 -27 -49 15 c-41 12 -51 20 -63 53 -17 42 -12 45 38 24 38\n        -16 41 -13 20 24 -8 14 -14 28 -15 33 0 6 31 3 67 -8z m-204 -90 l17 -35 -30\n        -15 c-40 -21 -44 -20 -63 19 -15 33 -15 35 6 50 34 24 52 19 70 -19z m342 -25\n        c21 -40 19 -47 -14 -52 -25 -4 -31 1 -45 29 -22 46 -20 53 14 53 23 0 33 -7\n        45 -30z"></path>\n    </g>',n.classList.add("flag"),n.appendChild(e),n};var v=function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function c(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,c)}d((o=o.apply(n,e||[])).next())}))};const m=()=>v(void 0,void 0,void 0,(function*(){const t=document.querySelectorAll(".remove_btn"),o=t=>{t.addEventListener("click",(()=>{var o,r,a;i().then((o=>{const i=o.cars.filter((n=>{var e;return n.name===(null===(e=t.nextElementSibling)||void 0===e?void 0:e.innerHTML)})),r=i[0].id;var a;a=r,n(void 0,void 0,void 0,(function*(){const n=yield fetch(`${e}/${a}`,{method:"DELETE"});return yield n.json()}))})),null===(r=null===(o=t.parentElement)||void 0===o?void 0:o.nextElementSibling)||void 0===r||r.remove(),null===(a=t.parentElement)||void 0===a||a.remove(),y().then((n=>n))}))};if(t)for(let n=0;n<t.length;n++)o(t[n])})),f=()=>{document.querySelectorAll(".select_btn").forEach((n=>{n.addEventListener("click",(()=>n.classList.add("btn_active")))}))},h=()=>{const t=document.querySelector(".update_btn"),o=document.querySelectorAll(".select_btn"),r=document.querySelector(".input_update_name"),a=document.querySelector(".input_update_color");null==t||t.addEventListener("click",(()=>{var t,c,d;const l=Array.from(o).filter((n=>n.classList.contains("btn_active")))[0],s=null===(t=l.nextElementSibling)||void 0===t?void 0:t.nextElementSibling,u=null===(d=null===(c=l.parentElement)||void 0===c?void 0:c.nextElementSibling)||void 0===d?void 0:d.firstElementChild;i().then((t=>{const o=t.cars.filter((n=>{var e,t;return n.name===(null===(t=null===(e=l.nextElementSibling)||void 0===e?void 0:e.nextElementSibling)||void 0===t?void 0:t.innerHTML)}));s&&r&&a&&u&&(s.innerHTML=null==r?void 0:r.value,u.style.fill=a.value,l.classList.remove("btn_active"));const i=o[0].id;var c,d;r&&a&&(c=i,d={name:null==r?void 0:r.value,color:a.value},n(void 0,void 0,void 0,(function*(){const n=yield fetch(`${e}/${c}`,{method:"PUT",body:JSON.stringify(d),headers:{"Content-Type":"application/json"}});return yield n.json()})))}))}))},b=()=>{const e=document.querySelectorAll(".start_btn"),t=e=>{e.addEventListener("click",(()=>{i().then((t=>{const i=t.cars.filter((n=>{var t,o,i;return n.name===(null===(i=null===(o=null===(t=e.parentElement)||void 0===t?void 0:t.previousElementSibling)||void 0===o?void 0:o.lastElementChild)||void 0===i?void 0:i.innerHTML)}))[0].id,r=e.previousElementSibling;var a;e.classList.add("active"),(a=i,n(void 0,void 0,void 0,(function*(){const n=yield fetch(`${o}?id=${a}&status=started`,{method:"PATCH"});return yield n.json()}))).then((t=>{const a=t.distance/t.velocity,c=t.distance;(e=>n(void 0,void 0,void 0,(function*(){const n=yield fetch(`${o}?id=${e}&status=drive`,{method:"PATCH"});return yield n.json()})))(i).then((n=>n)).catch((n=>{n.status})),g(a,c,null,r,e)}))}))}))};if(e)for(let n=0;n<e.length;n++)t(e[n])},y=()=>v(void 0,void 0,void 0,(function*(){const n=document.querySelector(".amount_cars"),e=yield i().then((n=>n.cars.length));n&&(n.innerHTML=`GARAGE ${e}`)})),g=(n,e,t,o,i)=>{requestAnimationFrame((function r(a){t||(t=a);const c=(a-t)/n,d=c*e/300;o&&(o.style.transform=`translateX(${d}px)`),c<1&&i.classList.contains("active")?requestAnimationFrame(r):o&&cancelAnimationFrame(requestAnimationFrame(r))}))};d(void 0,void 0,void 0,(function*(){(()=>{const n=document.createElement("button");n.innerHTML="Winners",n.classList.add("btn"),n.classList.add("btn_winners"),document.body.prepend(n)})(),(()=>{const n=document.createElement("button");n.innerHTML="Garage",n.classList.add("btn"),n.classList.add("btn_garage"),document.body.prepend(n)})(),(()=>{const n=document.createElement("div");n.classList.add("inputs_wrapper");const e=document.createElement("input");e.classList.add("input_add_new_car");const t=document.createElement("input");t.classList.add("input_add_new_color_car"),t.type="color",n.append(e),n.append(t),null==l||l.append(n);const o=document.createElement("button");o.innerHTML="Create car",o.classList.add("btn"),o.classList.add("create_car_btn"),n.appendChild(o)})(),(()=>{const n=document.createElement("div");n.classList.add("inputs_wrapper");const e=document.createElement("input"),t=document.createElement("input");e.classList.add("input_update_name"),t.classList.add("input_update_color"),t.type="color",n.append(e),n.append(t),null==l||l.append(n);const o=document.createElement("button");o.innerHTML="Update car",o.classList.add("btn"),o.classList.add("update_btn"),n.appendChild(o)})(),(()=>{const n=document.createElement("div");n.classList.add("inputs_wrapper");const e=document.createElement("button");e.innerHTML="Race",e.classList.add("btn"),n.appendChild(e);const t=document.createElement("button");t.innerHTML="Reset",t.classList.add("btn"),n.appendChild(t);const o=document.createElement("button");o.innerHTML="Generate",o.classList.add("btn"),n.appendChild(o),null==l||l.append(n)})(),yield d(void 0,void 0,void 0,(function*(){const n=yield i().then((n=>n.amount)),e=document.createElement("h2");e.classList.add("amount_cars"),e.innerHTML=`GARAGE ${n}`,null==l||l.append(e);const t=document.createElement("h2");t.innerHTML="PAGE #1",null==l||l.append(t)})),yield d(void 0,void 0,void 0,(function*(){const n=yield i().then((n=>n.cars));for(let e=0;e<n.length;e++)u(n[e].name),s(n[e].color),p()}))})).then((()=>{m(),f(),h(),b(),(()=>{const e=document.querySelectorAll(".stop_btn"),t=e=>{e.addEventListener("click",(()=>{i().then((t=>{var i;const r=t.cars.filter((n=>{var t,o,i;return n.name===(null===(i=null===(o=null===(t=e.parentElement)||void 0===t?void 0:t.previousElementSibling)||void 0===o?void 0:o.lastElementChild)||void 0===i?void 0:i.innerHTML)})),a=r[0].id;var c;null===(i=e.previousElementSibling)||void 0===i||i.classList.remove("active"),c=a,n(void 0,void 0,void 0,(function*(){const n=yield fetch(`${o}?id=${c}&status=stopped`,{method:"PATCH"});return yield n.json()}))}))}))};if(e)for(let n=0;n<e.length;n++)t(e[n])})(),(()=>{const n=document.createElement("div");n.classList.add("winners"),n.classList.add("winners-not-active");const e=document.createElement("h2");e.innerHTML="Winners 1",n.append(e);const t=document.createElement("h2");t.innerHTML="Page 1",n.append(t),document.body.append(n)})()}));const L=document.querySelector(".create_car_btn"),E=document.querySelector(".btn_garage"),_=document.querySelector(".btn_winners");null==E||E.addEventListener("click",(()=>{const n=document.querySelector(".winners"),e=document.querySelector(".root");null==e||e.classList.remove("root-not-active"),null==n||n.classList.add("winners-not-active")})),null==_||_.addEventListener("click",(()=>{const n=document.querySelector(".winners"),e=document.querySelector(".root");null==n||n.classList.remove("winners-not-active"),null==e||e.classList.add("root-not-active")})),null==L||L.addEventListener("click",(()=>v(void 0,void 0,void 0,(function*(){const t=document.querySelector(".input_add_new_car"),o=document.querySelector(".input_add_new_color_car");if(t&&o){const r=t.value,a=o.value;u(r),s(a),yield(i={name:r,color:a},n(void 0,void 0,void 0,(function*(){const n=yield fetch(`${e}`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}});return yield n.json()}))),t.value=""}var i;y(),m(),f(),h(),yield b()}))))})()})();